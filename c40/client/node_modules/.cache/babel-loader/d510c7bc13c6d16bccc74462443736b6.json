{"ast":null,"code":"import * as types from '../constants/ActionTypes';\nimport request from 'superagent';\nvar SERVER_URL = 'http://localhost:3001/api/';\nexport function addData(id, name, phone) {\n  return {\n    type: types.ADD_DATA,\n    id: id,\n    name: name,\n    phone: phone\n  };\n}\n\nfunction addPhoneBooksFailure() {\n  return {\n    type: types.ADD_PHONEBOOKS_FAILURE\n  };\n}\n\nfunction addPhoneBooksSuccess(phonebook) {\n  return {\n    type: types.ADD_PHONEBOOKS_SUCESS,\n    phonebook: phonebook\n  };\n}\n\nexport function addPHoneBook(name, phone) {\n  var id = Date.now();\n  return function (dispatch) {\n    dispatch(addData(id, name, phone));\n    return request.post(\"\".concat(SERVER_URL, \"phonebooks\")).type('form').send({\n      id: id\n    }).send({\n      name: name\n    }).send({\n      phone: phone\n    }).end(function (err, res) {\n      if (err) {\n        console.error(err);\n        dispatch(addPhoneBooksFailure());\n      } else {\n        console.log(res.body.data);\n        dispatch(addPhoneBooksSuccess(res.body));\n      }\n    });\n  };\n}\nexport function editData(id, name, phone) {\n  return {\n    type: types.EDIT_DATA,\n    id: id,\n    name: name,\n    phone: phone\n  };\n}\nexport function deleteData(id) {\n  return {\n    type: types.DELETE_DATA,\n    id: id\n  };\n}\nexport function deleteAll() {\n  return {\n    type: types.DELETE_ALL\n  };\n}\n\nfunction loadPhoneBooksFailure() {\n  return {\n    type: types.LOAD_PHONEBOOKS_FAILURE\n  };\n}\n\nfunction loadPhoneBooksSuccess(phonebooks) {\n  return {\n    type: types.LOAD_PHONEBOOKS_SUCESS,\n    phonebooks: phonebooks\n  };\n}\n\nexport function loadPHoneBooks() {\n  return function (dispatch) {\n    return request.get(\"\".concat(SERVER_URL, \"phonebooks\")).set('Accept', 'application/json').end(function (err, res) {\n      if (err) {\n        console.error(err);\n        dispatch(loadPhoneBooksFailure());\n      } else {\n        dispatch(loadPhoneBooksSuccess(res.body));\n      }\n    });\n  };\n}\nexport function editPHoneBook(id, name, phone) {\n  return function (dispatch) {\n    dispatch(editData(id, name, phone));\n    return request.put(\"\".concat(SERVER_URL, \"phonebooks/\") + id).type('form').send({\n      name: name\n    }).send({\n      phone: phone\n    }).end(function (err, res) {\n      if (err) {\n        console.error(err);\n      }\n    });\n  };\n}\nexport function deletePHoneBook(id) {\n  return function (dispatch) {\n    dispatch(deleteData(id));\n    return request.delete(\"\".concat(SERVER_URL, \"phonebooks/\") + id).type('form').send({\n      id: id\n    }).end(function (err, res) {\n      if (err) {\n        console.error(err);\n      }\n    });\n  };\n}","map":{"version":3,"sources":["/home/bambang/Desktop/rubicamp/redux/client/src/actions/index.js"],"names":["types","request","SERVER_URL","addData","id","name","phone","type","ADD_DATA","addPhoneBooksFailure","ADD_PHONEBOOKS_FAILURE","addPhoneBooksSuccess","phonebook","ADD_PHONEBOOKS_SUCESS","addPHoneBook","Date","now","dispatch","post","send","end","err","res","console","error","log","body","data","editData","EDIT_DATA","deleteData","DELETE_DATA","deleteAll","DELETE_ALL","loadPhoneBooksFailure","LOAD_PHONEBOOKS_FAILURE","loadPhoneBooksSuccess","phonebooks","LOAD_PHONEBOOKS_SUCESS","loadPHoneBooks","get","set","editPHoneBook","put","deletePHoneBook","delete"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,0BAAvB;AACA,OAAOC,OAAP,MAAoB,YAApB;AAEA,IAAMC,UAAU,GAAG,4BAAnB;AAEA,OAAO,SAASC,OAAT,CAAiBC,EAAjB,EAAqBC,IAArB,EAA2BC,KAA3B,EAAiC;AACtC,SAAO;AAACC,IAAAA,IAAI,EAAEP,KAAK,CAACQ,QAAb;AAAuBJ,IAAAA,EAAE,EAAFA,EAAvB;AAA2BC,IAAAA,IAAI,EAAJA,IAA3B;AAAiCC,IAAAA,KAAK,EAALA;AAAjC,GAAP;AACD;;AAED,SAASG,oBAAT,GAA+B;AAC7B,SAAO;AAACF,IAAAA,IAAI,EAAEP,KAAK,CAACU;AAAb,GAAP;AACD;;AAED,SAASC,oBAAT,CAA8BC,SAA9B,EAAwC;AACtC,SAAO;AAACL,IAAAA,IAAI,EAAEP,KAAK,CAACa,qBAAb;AAAoCD,IAAAA,SAAS,EAATA;AAApC,GAAP;AACD;;AAED,OAAO,SAASE,YAAT,CAAsBT,IAAtB,EAA4BC,KAA5B,EAAkC;AACvC,MAAIF,EAAE,GAAGW,IAAI,CAACC,GAAL,EAAT;AACA,SAAO,UAAAC,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAACd,OAAO,CAACC,EAAD,EAAKC,IAAL,EAAWC,KAAX,CAAR,CAAR;AACA,WAAOL,OAAO,CACbiB,IADM,WACEhB,UADF,iBAENK,IAFM,CAED,MAFC,EAGNY,IAHM,CAGD;AAACf,MAAAA,EAAE,EAAEA;AAAL,KAHC,EAINe,IAJM,CAID;AAACd,MAAAA,IAAI,EAAEA;AAAP,KAJC,EAKNc,IALM,CAKD;AAACb,MAAAA,KAAK,EAAEA;AAAR,KALC,EAMNc,GANM,CAMF,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjB,UAAGD,GAAH,EAAO;AACLE,QAAAA,OAAO,CAACC,KAAR,CAAcH,GAAd;AACAJ,QAAAA,QAAQ,CAACR,oBAAoB,EAArB,CAAR;AACD,OAHD,MAGK;AACHc,QAAAA,OAAO,CAACE,GAAR,CAAYH,GAAG,CAACI,IAAJ,CAASC,IAArB;AACAV,QAAAA,QAAQ,CAACN,oBAAoB,CAACW,GAAG,CAACI,IAAL,CAArB,CAAR;AACD;AACF,KAdM,CAAP;AAeD,GAjBD;AAkBD;AAED,OAAO,SAASE,QAAT,CAAkBxB,EAAlB,EAAsBC,IAAtB,EAA4BC,KAA5B,EAAkC;AACvC,SAAO;AAACC,IAAAA,IAAI,EAAEP,KAAK,CAAC6B,SAAb;AAAwBzB,IAAAA,EAAE,EAAFA,EAAxB;AAA4BC,IAAAA,IAAI,EAAJA,IAA5B;AAAkCC,IAAAA,KAAK,EAALA;AAAlC,GAAP;AACD;AAED,OAAO,SAASwB,UAAT,CAAoB1B,EAApB,EAAuB;AAC5B,SAAO;AAACG,IAAAA,IAAI,EAAEP,KAAK,CAAC+B,WAAb;AAA0B3B,IAAAA,EAAE,EAAFA;AAA1B,GAAP;AACD;AAED,OAAO,SAAS4B,SAAT,GAAoB;AACzB,SAAO;AAACzB,IAAAA,IAAI,EAAEP,KAAK,CAACiC;AAAb,GAAP;AACD;;AAED,SAASC,qBAAT,GAAgC;AAC9B,SAAO;AAAC3B,IAAAA,IAAI,EAAEP,KAAK,CAACmC;AAAb,GAAP;AACD;;AAED,SAASC,qBAAT,CAA+BC,UAA/B,EAA0C;AACxC,SAAO;AAAC9B,IAAAA,IAAI,EAAEP,KAAK,CAACsC,sBAAb;AAAqCD,IAAAA,UAAU,EAAVA;AAArC,GAAP;AACD;;AAED,OAAO,SAASE,cAAT,GAAyB;AAC9B,SAAO,UAAAtB,QAAQ,EAAI;AACjB,WAAOhB,OAAO,CACbuC,GADM,WACCtC,UADD,iBAENuC,GAFM,CAEF,QAFE,EAEQ,kBAFR,EAGNrB,GAHM,CAGF,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjB,UAAGD,GAAH,EAAO;AACLE,QAAAA,OAAO,CAACC,KAAR,CAAcH,GAAd;AACAJ,QAAAA,QAAQ,CAACiB,qBAAqB,EAAtB,CAAR;AACD,OAHD,MAGK;AACHjB,QAAAA,QAAQ,CAACmB,qBAAqB,CAACd,GAAG,CAACI,IAAL,CAAtB,CAAR;AACD;AACF,KAVM,CAAP;AAWD,GAZD;AAaD;AAED,OAAO,SAASgB,aAAT,CAAuBtC,EAAvB,EAA2BC,IAA3B,EAAiCC,KAAjC,EAAuC;AAC5C,SAAO,UAAAW,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAACW,QAAQ,CAACxB,EAAD,EAAKC,IAAL,EAAWC,KAAX,CAAT,CAAR;AACA,WAAOL,OAAO,CACb0C,GADM,CACF,UAAGzC,UAAH,mBAA6BE,EAD3B,EAENG,IAFM,CAED,MAFC,EAGNY,IAHM,CAGD;AAACd,MAAAA,IAAI,EAAEA;AAAP,KAHC,EAINc,IAJM,CAID;AAACb,MAAAA,KAAK,EAAEA;AAAR,KAJC,EAKNc,GALM,CAKF,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjB,UAAGD,GAAH,EAAO;AACLE,QAAAA,OAAO,CAACC,KAAR,CAAcH,GAAd;AACD;AACF,KATM,CAAP;AAUD,GAZD;AAaD;AAED,OAAO,SAASuB,eAAT,CAAyBxC,EAAzB,EAA4B;AACjC,SAAO,UAAAa,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAACa,UAAU,CAAC1B,EAAD,CAAX,CAAR;AACA,WAAOH,OAAO,CACb4C,MADM,CACC,UAAG3C,UAAH,mBAA6BE,EAD9B,EAENG,IAFM,CAED,MAFC,EAGNY,IAHM,CAGD;AAACf,MAAAA,EAAE,EAAEA;AAAL,KAHC,EAINgB,GAJM,CAIF,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjB,UAAGD,GAAH,EAAO;AACLE,QAAAA,OAAO,CAACC,KAAR,CAAcH,GAAd;AACD;AACF,KARM,CAAP;AASD,GAXD;AAYD","sourcesContent":["import * as types from '../constants/ActionTypes'\nimport request from 'superagent'\n\nconst SERVER_URL = 'http://localhost:3001/api/'\n\nexport function addData(id, name, phone){\n  return {type: types.ADD_DATA, id, name, phone}\n}\n\nfunction addPhoneBooksFailure(){\n  return {type: types.ADD_PHONEBOOKS_FAILURE}\n}\n\nfunction addPhoneBooksSuccess(phonebook){\n  return {type: types.ADD_PHONEBOOKS_SUCESS, phonebook}\n}\n\nexport function addPHoneBook(name, phone){\n  let id = Date.now()\n  return dispatch => {\n    dispatch(addData(id, name, phone))\n    return request\n    .post(`${SERVER_URL}phonebooks`)\n    .type('form')\n    .send({id: id})\n    .send({name: name})\n    .send({phone: phone})\n    .end((err, res) => {\n      if(err){\n        console.error(err)\n        dispatch(addPhoneBooksFailure())\n      }else{\n        console.log(res.body.data);\n        dispatch(addPhoneBooksSuccess(res.body))\n      }\n    })\n  }\n}\n\nexport function editData(id, name, phone){\n  return {type: types.EDIT_DATA, id, name, phone}\n}\n\nexport function deleteData(id){\n  return {type: types.DELETE_DATA, id}\n}\n\nexport function deleteAll(){\n  return {type: types.DELETE_ALL}\n}\n\nfunction loadPhoneBooksFailure(){\n  return {type: types.LOAD_PHONEBOOKS_FAILURE}\n}\n\nfunction loadPhoneBooksSuccess(phonebooks){\n  return {type: types.LOAD_PHONEBOOKS_SUCESS, phonebooks}\n}\n\nexport function loadPHoneBooks(){\n  return dispatch => {\n    return request\n    .get(`${SERVER_URL}phonebooks`)\n    .set('Accept', 'application/json')\n    .end((err, res) => {\n      if(err){\n        console.error(err)\n        dispatch(loadPhoneBooksFailure())\n      }else{\n        dispatch(loadPhoneBooksSuccess(res.body))\n      }\n    })\n  }\n}\n\nexport function editPHoneBook(id, name, phone){\n  return dispatch => {\n    dispatch(editData(id, name, phone))\n    return request\n    .put(`${SERVER_URL}phonebooks/` + id)\n    .type('form')\n    .send({name: name})\n    .send({phone: phone})\n    .end((err, res) => {\n      if(err){\n        console.error(err)\n      }\n    })\n  }\n}\n\nexport function deletePHoneBook(id){\n  return dispatch => {\n    dispatch(deleteData(id))\n    return request\n    .delete(`${SERVER_URL}phonebooks/` + id)\n    .type('form')\n    .send({id: id})\n    .end((err, res) => {\n      if(err){\n        console.error(err)\n      }\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}